{"version":3,"sources":["mn-date/mn-date.directive.js","app.js"],"names":["MnDateDirective","$compile","$parse","link","scope","element","attributes","ngModel","dirtyInput","querySelector","removeChild","input","find","attributeValue","date","Date","parse","validDate","value","toISOString","slice","undefined","attr","viewValue","$setViewValue","restrict","require","angular","module","$inject","directive"],"mappings":"YAIA,SAASA,iBAAgBC,SAAUC,QAOjC,QAASC,MAAKC,MAAOC,QAASC,WAAYC,SACxC,GAAMC,YAAaH,QAAQ,GAAGI,cAAc,gBACxCD,aACFH,QAAQ,GAAGK,YAAYF,WAGzB,IAAMG,OAAQN,QAAQO,KAAK,SACrBC,eAAiBX,OAAOI,WAAWC,SAASH,OAC5CU,KAAO,GAAIC,MAAKA,KAAKC,MAAMH,iBAC3BI,UAAYJ,gBAAkBE,KAAKC,MAAMH,iBAAmBC,KAC5DI,MAAQD,UACVH,KAAKK,cAAcC,MAAM,EAAG,IAC5BC,MACJhB,SAAQ,GAAGa,MAAQA,MACnBP,MAAMW,KAAK,WAAYhB,WAAWC,QAClC,IAAMgB,WAAYN,UACd,GAAIF,MAAKG,OACTG,MACJd,SAAQiB,cAAcD,WACtBtB,SAASU,OAAOP,OAzBlB,OACEqB,SAAU,IACVtB,KAAAA,KACAuB,QAAS,WCRbC,QAAQC,OAAO,cDCf5B,gBAAgB6B,SAAW,WAAY,UADvCF,QACGC,OAAO,WACPE,UAAU,SAAU9B","file":"angular-mn-date.js","sourcesContent":["angular\n  .module('mn-date')\n  .directive('mnDate', MnDateDirective)\n\nfunction MnDateDirective($compile, $parse) {\n  return {\n    restrict: 'E',\n    link,\n    require: 'ngModel',\n  }\n\n  function link(scope, element, attributes, ngModel) {\n    const dirtyInput = element[0].querySelector('input + input')\n    if (dirtyInput) {\n      element[0].removeChild(dirtyInput)\n    }\n\n    const input = element.find('input')\n    const attributeValue = $parse(attributes.ngModel)(scope)\n    const date = new Date(Date.parse(attributeValue))\n    const validDate = attributeValue && Date.parse(attributeValue) && date\n    const value = validDate\n      ? date.toISOString().slice(0, 10)\n      : undefined\n    element[0].value = value\n    input.attr('ng-model', attributes.ngModel)\n    const viewValue = validDate\n      ? new Date(value)\n      : undefined\n    ngModel.$setViewValue(viewValue)\n    $compile(input)(scope)\n  }\n}\n","angular.module('mn-date', [])\n"]}